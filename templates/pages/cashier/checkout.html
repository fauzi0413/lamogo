{% extends "base.html" %}
{% block content %}
<h2>Checkout</h2>

<form method="post" action="{{ url_for('place_order') }}" class="checkout-form">
  <div class="form-group">
    <label for="name">Nama:</label>
    <input type="text" id="name" name="customer_name" required>
  </div>

  <div class="form-group">
    <label for="phone">No. HP:</label>
    <input type="text" id="phone" name="customer_phone" required>
  </div>

  <h3>Pesanan Anda</h3>
  <table class="checkout-table">
    <tr>
      <th>Menu</th>
      <th>Qty</th>
      <th>Harga</th>
      <th>Total</th>
    </tr>
    {% for item in cart %}
    <tr>
      <td>{{ item.name }}</td>
      <td>{{ item.qty }}</td>
      <td>Rp {{ "%.0f"|format(item.price) }}</td>
      <td>Rp {{ "%.0f"|format(item.price * item.qty) }}</td>
    </tr>
    {% endfor %}
  </table>

  <p class="total"><strong>Total: Rp {{ "%.0f"|format(total) }}</strong></p>

  <div class="checkout-actions">
    <button type="submit">Pesan Sekarang</button>
  </div>
</form>

<style>
  .checkout-form {
    max-width: 600px;
    margin: 0 auto;
  }
  .form-group {
    margin-bottom: 15px;
  }
  .form-group label {
    display: block;
    font-weight: bold;
    margin-bottom: 5px;
  }
  .form-group input {
    width: 100%;
    padding: 8px;
    box-sizing: border-box;
  }
  .checkout-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
  }
  .checkout-table th, .checkout-table td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
  }
  .checkout-table th {
    background-color: #f5f5f5;
  }
  .total {
    text-align: right;
    margin-top: 10px;
    font-size: 18px;
  }
  .checkout-actions {
    text-align: center;
    margin-top: 20px;
  }
  .checkout-actions button {
    padding: 10px 20px;
    font-size: 16px;
    background: #28a745;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  .checkout-actions button:hover {
    background: #218838;
  }
</style>
{% endblock %}
